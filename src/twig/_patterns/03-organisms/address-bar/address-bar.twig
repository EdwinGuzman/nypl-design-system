{#
 # Variables:
 # # Date Bar:
 # address_bar__date_start - The start date/time.
 # address_bar__date_end - The end date/time.
 #
 # # Location:
 # address_bar__location - The name of the location.
 # address_bar__address - The address of the location.
 # address_bar__directions_url - The link to directions.
 # address_bar__phone_number - The phone number of the location.
 #
 # # Hours:
 # days - An array of days and hours
 # - day - Day of the week.
 # - hours - Hours open that day.
 #
 # # Accessibility:
 # address_bar__accessibility - The accessibility level.
 # accessibility_level__description - The description of the accessibility level.
 #
 # Amenities:
 # location__amenities - An array of amenities
 # - (Each amenity is an array item, as text)
 #
 # Secondary CTAs:
 # address_bar__cta__secondary - An array of secondary links.
 # - address_bar__cta__secondary__text - Secondary link text.
 # - address_bar__cta__secondary__url - Secondary link url.
 #
 # Primary CTA:
 # address_bar__cta__primary__text - Primary link text.
 # address_bar__cta__primary__url - Primary link url.
 # address_bar__cta__primary__alt_text - Text to display when there is no primary cta.
 #}

{% set address_bar__base_class = 'address-bar' %}
{% set cta__link__blockname = address_bar__base_class %}
{% set cta__alt_text__blockname = address_bar__base_class %}
{% set date_bar_blockname = address_bar__base_class %}
{% set show_location_labels = true %}

<div {{ bem(address_bar__base_class) }}>
  {# Date Bar #}
  {% if address_bar__date_start %}
    {% include "@molecules/date-bar/_date-bar.twig" with {
      event_date_start: address_bar__date_start,
      event_date_end: address_bar__date_end,
    } %}
  {% endif %}
  <div {{ bem('content', [], address_bar__base_class) }}>
    <div {{ bem('details', [], address_bar__base_class) }}>
      {# Location information #}
      {% if address_bar__heading or address_bar__address or address_bar__directions_url or address_bar__phone_number %}
        {% include "@molecules/location-info/location-info.twig" with {
          location__heading: address_bar__heading,
          location__address: address_bar__address,
          location__directions_url: address_bar__directions_url,
          location__phone_number: address_bar__phone_number,
        } %}
      {% endif %}
      {# Hours #}
      {% if days.0.day %}
        {% include "@organisms/address-bar/partials/_address-bar--hours.twig" %}
      {% endif %}
      {# Accessibility level #}
      {% if address_bar__accessibility %}
        {% include "@molecules/location-info/partials/_location--accessibility.twig" with {
          accessibility_level: address_bar__accessibility,
        } %}
      {% endif %}
      {# Amenities #}
      {% if location__amenities.0|length %}
        {% include "@organisms/address-bar/partials/_address-bar--amenities.twig" %}
      {% endif %}
    </div>
    {# CTAs #}
    {% if address_bar__cta__secondary.0.address_bar__cta__secondary__url or address_bar__cta__primary__url or address_bar__cta__primary__alt_text %}
      <div {{ bem('ctas', [], address_bar__base_class) }}>
        {# Secondary ctas #}
        {% if address_bar__cta__secondary.0.address_bar__cta__secondary__url %}
          {% for link in address_bar__cta__secondary %}
            {% include "@molecules/location-info/partials/_location--ctas.twig" with {
              cta__link__text: link.address_bar__cta__secondary__text,
              cta__link__url: link.address_bar__cta__secondary__url,
            } %}
          {% endfor %}
        {% endif %}
        {# Primary cta #}
        {% if address_bar__cta__primary__url or address_bar__cta__primary__alt_text %}
          {% include "@molecules/location-info/partials/_location--ctas.twig" with {
            cta__link_modifiers: ['primary'],
            cta__link__text: address_bar__cta__primary__text,
            cta__link__url: address_bar__cta__primary__url,
            cta__link__alternate_text: address_bar__cta__primary__alt_text,
          } %}
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>
